<?php
	/* $Id$ */
	
	$form = $this->form;
	
	foreach ($this->messageList as &$message) {
?>
<p align="justify">
	posted at <?=$message->getPosted()->toString()?> by <?=$message->getNickname()?><br>
	<?=$message->getContent()?>
</p>
<hr>
<?php
	}
	
	if ($form->getErrors()) {
		$form->
			addMissingLabel('name', "message's title missing")->
			addMissingLabel('content', 'please, write something');
		
		foreach ($form->getTexturalErrors() as $label) {
?>
	<font color="red">* <b><?=$label?></b></font><br>
<?php
		}
?>

<hr>

<?php
	}
?>

<form method="post" action="<?=$_SERVER['PHP_SELF']?>?area=main">
<table wdith="75%" align="center" border="1">
<tr>
	<td>title:</td>
	<td><input type="text" name="name" value="<?=$form->getValue('name')?>"></td>
</tr>
<tr>
	<td>your nickname:</td>
	<td><input type="text" name="nickname" value="<?=$form->getValue('nickname')?>"></td>
</tr>
<tr>
	<td>message:</td>
	<td><textarea name="content"><?=$form->getValue('content')?></textarea></td>
</tr>
<tr>
	<td colspan="2" align="center">
		<input type="submit" name="add" value="post your message to the World">
	</td>
</tr>
</table>
</form>
